# Secrets manager (AWS Service)
#### [ðŸ”™ back to index](../README.md)

It is a service that offers secure storage for credentials of different kinds: database credentials, API keys, and OAuth tokens.

It has secondary features around this like: rotation, monitor, control.

A secret can be any of:
1. Credentials for Amazon RDS database
2. Credentials for Amazon DocumentDB database
3. Credentials for Amazon Redshift data warehouse
4. Credentials for other database
5. Other type of secret (API key, OAuth token, other)

Â°1 to Â°4 will store username+password

Â°5 will store key/value pairs (a 1-level json fashion) or a plain text (can be a string or a multi-nested json)

## What is/does?

- Stores secrets of different kinds
- Has rotation capabilities (scheduled, manual, or customizable with a rotation lambda)
- Has out of the box encryption with the default encryption key `aws/secretsmanager` or with a custom encryption key (managed with AWS KMS)

## What problem solves?

If your application needs secrets for some operations (consuming 3rd party APIs, accessing a Database, signing/decoding a JWT, etc), you need a secure way to store those secrets. It can be dangerous to store all those secrets in a text or config file.
- With this service you can store them in a secure (encrypted) way

If you manage secrets, you need to rotate them with certain frequency (depending on different factors)
- With this service you can have manual rotations or automatic rotations (a lambda that can cover the most peculiar secret rotation needs)

## Pros/Cons

Pros
- Secrets can be flexible values:
  - key/value pairs (multiple per secret)
  - free txt (string or big nested json)
- Encryption by default (with the keys managed by KMS or yourself)
- Rotation capabilities (manual or scheduled)

Cons
- Network calls needed to fetch at runtime
- 

## Is it worth using? If so, what scenario

It is worth using if you have strong need for storing secrets and you are cloud native, since plenty of pieces are serverless, you cannot store state in almost any runtime.

A naive approach could be to store secrets in a file in S3. In which case you wouldn't want to store that unencrypted, but then to decrypt that file, you need _another_ secret. At some point you will need a master secret that has to be stored securely somewhere. In that scenario is better to leverage a service like AWS Secrets Manager. 

Is also worth noting that it can also solve the rotation needs that _many_ secrets need (scheduled rotation, ability to rotate immediately).

If you don't have a strong need for storing secrets then you can be ok without it 

In which scenario(s) is ok to _have secrets_, without using this service? (ok doesnt=good practice here)
- If those secrets are not the single protection to use certain service. For example a resource A might have the secret to encode/decode JWTs generated by resource B, but a resource might also require certain policies to be able to interact with resource B; in this scenario a resource C with the secret, but without the required policies to interact with resource B, cannot do anything.
- 
